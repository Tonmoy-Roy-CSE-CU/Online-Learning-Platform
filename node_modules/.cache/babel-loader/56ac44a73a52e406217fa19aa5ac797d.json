{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\6th semester\\\\Web Engineering\\\\Project\\\\Online Learning Platform\\\\frontend\\\\src\\\\components\\\\message.jsx\";\nimport React, { Component } from 'react';\n\nclass Message extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sarr: [],\n      reciver: ''\n    };\n\n    this.get = () => {\n      console.log(\"wun\");\n      this.user = {\n        sender: this.props.sender,\n        reciever: this.props.reciver\n      };\n      fetch(\"http://localhost:8082/sendermsg\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(this.user)\n      }).then(res => res.json()).then(res => {\n        // console.log(res.code)\n        this.setState({\n          sarr: [...this.state.sarr, res.code]\n        });\n      });\n    };\n  }\n\n  componentDidMount() {}\n\n  componentDidUpdate() {\n    if (this.props.reciver != this.state.reciver) {\n      this.setState({\n        reciver: this.props.reciver\n      });\n      this.setState({\n        sarr: []\n      });\n      setInterval(this.get(), 4000);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headmsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, this.props.reciver)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: \"550px\",\n        overflow: \"scroll\"\n      },\n      className: \"packmsg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, // console.log(this.state.sarr[0]),\n    this.state.sarr[0] ? this.state.sarr[0].map((i, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"index\",\n        className: JSON.parse(localStorage.getItem(\"jwt\")).user.id === i.sender ? \"sendermsg\" : \"receivermsg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, i.message);\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"No data found...\")));\n  }\n\n}\n\nexport default Message;","map":{"version":3,"sources":["D:/Documents/6th semester/Web Engineering/Project/Online Learning Platform/frontend/src/components/message.jsx"],"names":["React","Component","Message","state","sarr","reciver","get","console","log","user","sender","props","reciever","fetch","method","headers","body","JSON","stringify","then","res","json","setState","code","componentDidMount","componentDidUpdate","setInterval","render","height","overflow","map","i","index","parse","localStorage","getItem","id","message"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,OAAN,SAAsBD,SAAtB,CAAgC;AAAA;AAAA;AAAA,SAC5BE,KAD4B,GACtB;AACFC,MAAAA,IAAI,EAAC,EADH;AAEFC,MAAAA,OAAO,EAAC;AAFN,KADsB;;AAAA,SAO5BC,GAP4B,GAOxB,MAAI;AACNC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACE,WAAKC,IAAL,GAAU;AACNC,QAAAA,MAAM,EAAC,KAAKC,KAAL,CAAWD,MADZ;AAENE,QAAAA,QAAQ,EAAC,KAAKD,KAAL,CAAWN;AAFd,OAAV;AAIGQ,MAAAA,KAAK,CAAC,iCAAD,EAAoC;AACxCC,QAAAA,MAAM,EAAE,MADgC;AAExCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAF+B;AAKxCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKT,IAApB;AALkC,OAApC,CAAL,CAOAU,IAPA,CAOKC,GAAG,IAAGA,GAAG,CAACC,IAAJ,EAPX,EAQEF,IARF,CAQOC,GAAG,IAAI;AACX;AACA,aAAKE,QAAL,CAAc;AACZlB,UAAAA,IAAI,EAAE,CAAE,GAAG,KAAKD,KAAL,CAAWC,IAAhB,EAAsBgB,GAAG,CAACG,IAA1B;AADM,SAAd;AAGD,OAbF;AAcN,KA3B2B;AAAA;;AAK5BC,EAAAA,iBAAiB,GAAE,CAClB;;AAuBDC,EAAAA,kBAAkB,GAAE;AAEhB,QAAG,KAAKd,KAAL,CAAWN,OAAX,IAAoB,KAAKF,KAAL,CAAWE,OAAlC,EACA;AACI,WAAKiB,QAAL,CAAc;AAACjB,QAAAA,OAAO,EAAC,KAAKM,KAAL,CAAWN;AAApB,OAAd;AACA,WAAKiB,QAAL,CAAc;AAAClB,QAAAA,IAAI,EAAC;AAAN,OAAd;AACAsB,MAAAA,WAAW,CAAC,KAAKpB,GAAL,EAAD,EAAY,IAAZ,CAAX;AACH;AAIJ;;AACDqB,EAAAA,MAAM,GAAG;AAEL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKhB,KAAL,CAAWN,OAAhB,CADA,CADA,eAIA;AAAK,MAAA,KAAK,EAAE;AAAEuB,QAAAA,MAAM,EAAE,OAAV;AAAmBC,QAAAA,QAAQ,EAAE;AAA7B,OAAZ;AAAqD,MAAA,SAAS,EAAC,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA;AACG,SAAK1B,KAAL,CAAWC,IAAX,CAAgB,CAAhB,IAAmB,KAAKD,KAAL,CAAWC,IAAX,CAAgB,CAAhB,EAAmB0B,GAAnB,CAAuB,CAACC,CAAD,EAAGC,KAAH,KAAW;AAAC,0BACrD;AAAK,QAAA,GAAG,EAAC,OAAT;AAAiB,QAAA,SAAS,EAAEf,IAAI,CAACgB,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAX,EAAwC1B,IAAxC,CAA6C2B,EAA7C,KAAkDL,CAAC,CAACrB,MAApD,GAA2D,WAA3D,GAAuE,aAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEqB,CAAC,CAACM,OADJ,CADqD;AAKnD,KALgB,CAAnB,gBAKK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BARR,CAJA,CADJ;AAkBH;;AA7D2B;;AAgEhC,eAAenC,OAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass Message extends Component {\n    state={\n        sarr:[],\n        reciver:''\n    }\n    componentDidMount(){\n    }\n    get=()=>{\n      console.log(\"wun\")\n        this.user={\n            sender:this.props.sender,\n            reciever:this.props.reciver\n          }\n           fetch(\"http://localhost:8082/sendermsg\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(this.user)\n            })\n          .then(res=> res.json())\n            .then(res => {\n              // console.log(res.code)\n              this.setState({\n                sarr: [ ...this.state.sarr, res.code ]\n              })\n            }) \n    }\n   \n    componentDidUpdate(){\n\n        if(this.props.reciver!=this.state.reciver)\n        {\n            this.setState({reciver:this.props.reciver})\n            this.setState({sarr:[]})\n            setInterval(this.get(),4000)\n        }\n      \n        \n        \n    }\n    render() {\n\n        return (\n            <div>\n            <div className=\"headmsg\">\n            <h2>{this.props.reciver}</h2>\n            </div>\n            <div style={{ height: \"550px\", overflow: \"scroll\" }} className=\"packmsg\">\n           {\n            // console.log(this.state.sarr[0]),\n               this.state.sarr[0]?this.state.sarr[0].map((i,index)=>{return( \n                <div key=\"index\" className={JSON.parse(localStorage.getItem(\"jwt\")).user.id===i.sender?\"sendermsg\":\"receivermsg\"}>\n                 {i.message}\n                 </div>\n                  )\n                 }):<div>No data found...</div>\n           }\n             </div>\n            </div>\n        );\n    }\n}\n\nexport default Message;"]},"metadata":{},"sourceType":"module"}