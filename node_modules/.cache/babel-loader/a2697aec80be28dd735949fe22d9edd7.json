{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\6th semester\\\\Web Engineering\\\\Project\\\\Online Learning Platform\\\\frontend\\\\src\\\\components\\\\cart.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nclass Cart extends Component {\n  constructor() {\n    super();\n    this.state = {\n      cart: [],\n      r: 0,\n      p: 0,\n      bill: 0\n    };\n    this.remove = this.remove.bind(this);\n    this.getcart = this.getcart.bind(this);\n    this.congrats = this.congrats.bind(this);\n    this.bill = this.bill.bind(this);\n  }\n\n  congrats() {\n    if (this.state.r == 1) {\n      var s = \"\";\n\n      for (var i = 0; i < this.state.cart.length; i++) {\n        s = s + this.state.cart[i].cname;\n        if (i != this.state.cart.length - 1) s = s + \",\";\n      }\n\n      console.log(s);\n      var data = {\n        id: JSON.parse(localStorage.getItem('jwt')).user.id,\n        temp: s\n      };\n      console.log(data);\n      fetch('http://localhost:8082/addcoursetostud', {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => {\n        if (res.ok) return res.json();\n      }).then(res => {});\n      fetch('http://localhost:8082/deletecart', {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => {\n        if (res.ok) return res.json();\n      }).then(res => {\n        this.setState({\n          cart: []\n        });\n      });\n      window.location.replace(\"http://localhost:3000/congrats\");\n    } else alert(\"Please Confirm First\");\n  }\n\n  bill() {\n    console.log(this.state.cart);\n\n    if (JSON.parse(localStorage.getItem('jwt')).user.id && this.state.cart.length != 0) {\n      console.log(\"hii\");\n      var data = {\n        email: JSON.parse(localStorage.getItem('jwt')).user.id\n      };\n      fetch('http://localhost:8082/getbill', {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n      }).then(res => {\n        console.log(res[0].val);\n        this.setState({\n          bill: res[0].val,\n          r: 1\n        });\n      });\n    } else alert(\"OOps! Your Cart is Empty\");\n  }\n\n  remove(d) {\n    console.log(d);\n    var data = {\n      id: d.cid,\n      email: JSON.parse(localStorage.getItem('jwt')).user.id\n    };\n    console.log(data);\n    fetch('http://localhost:8082/removecart', {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(res => {\n      if (res.ok) return res.json();\n    }).then(res => {\n      this.getcart1();\n      this.setState({\n        r: 0\n      }); //as item is removed then aagin to confirm\n    });\n  }\n\n  getcart1() {\n    fetch('http://localhost:8082/getcart', {\n      method: \"GET\"\n    }).then(res => {\n      console.log(res);\n      if (res.ok) return res.json();\n    }).then(res => {\n      if (res.length == 0) this.setState({\n        cart: []\n      });else this.setState({\n        cart: res\n      });\n    });\n  }\n\n  getcart() {\n    if (this.state.p == 0) {\n      fetch('http://localhost:8082/getcart', {\n        method: \"GET\"\n      }).then(res => {\n        console.log(res);\n        if (res.ok) return res.json();\n      }).then(res => {\n        if (res.length == 0) this.setState({\n          cart: []\n        });else this.setState({\n          cart: res\n        });\n      });\n      this.setState({\n        p: 1\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 12\n      }\n    }, this.getcart(), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundImage: \"linear-gradient(90deg, rgb(0, 140, 186) 17%, rgb(63, 98, 114) 100%)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      style: {\n        textAlign: \"center\",\n        padding: \"40px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-aos\": \"fade-down\",\n      style: {\n        color: \"white\",\n        fontSize: \"60px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 20\n      }\n    }, \"Check Your Cart Here!!\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pricing8 py-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 4\n      }\n    }, console.log(this.state.cart), this.state.cart.map(e => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-4 ml-auto pricing-box align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 42\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body p-4 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: e.image,\n        width: 320,\n        height: 350,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 10\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 61\n        }\n      }), /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"font-weight-normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 12\n        }\n      }, e.cname), /*#__PURE__*/React.createElement(\"sup\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 12\n        }\n      }, \"$\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-dark display-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 24\n        }\n      }, e.price), /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"font-weight-light font-14\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 12\n        }\n      }, \"YEARLY\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 12\n        }\n      }, e.description)), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-info-gradiant p-3 btn-block border-0 text-white\",\n        href: \"#\",\n        onClick: () => {\n          this.remove(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 10\n        }\n      }, \"Remove This\")));\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-info-gradiant p-3 btn-block border-0 text-white\",\n      href: \"#\",\n      onClick: () => {\n        this.bill();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 8\n      }\n    }, \"Click To Confirm\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-info-gradiant p-3 btn-block border-0 text-white\",\n      href: \"#\",\n      onClick: () => {\n        this.congrats();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 8\n      }\n    }, \"Buy for $\", this.state.bill)))));\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["D:/Documents/6th semester/Web Engineering/Project/Online Learning Platform/frontend/src/components/cart.jsx"],"names":["React","Component","Link","Cart","constructor","state","cart","r","p","bill","remove","bind","getcart","congrats","s","i","length","cname","console","log","data","id","JSON","parse","localStorage","getItem","user","temp","fetch","method","headers","body","stringify","then","res","ok","json","setState","window","location","replace","alert","email","val","d","cid","getcart1","render","backgroundImage","textAlign","padding","color","fontSize","map","e","image","price","description"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport { Link } from \"react-router-dom\";\nclass Cart extends Component{\n    constructor()\n    {\n        super();\n        this.state={\n            cart:[],\n            r:0,\n            p:0,\n            bill:0,\n        }\n       this.remove=this.remove.bind(this);\n       this.getcart=this.getcart.bind(this);\n       this.congrats=this.congrats.bind(this);\n       this.bill=this.bill.bind(this);\n    }\n    congrats()\n    {\n        \n        if(this.state.r==1)\n        {\n            var s=\"\";\n           for(var i=0;i<this.state.cart.length;i++)\n           {\n               s=s+this.state.cart[i].cname;\n               if(i!=this.state.cart.length-1)\n               s=s+\",\";\n           }\n           console.log(s);\n            var data={\n                \n                id:JSON.parse(localStorage.getItem('jwt')).user.id,\n                temp:s\n            }\n            console.log(data);\n            fetch('http://localhost:8082/addcoursetostud',\n            {\n              method: \"PUT\",\n      \n                headers:{  \"Content-Type\":\"application/json\",  },\n      \n                  body:JSON.stringify(data),\n            } )\n      \n            .then( res => {\n                 \n                  if(res.ok)\n                    return res.json()  \n      \n              } )\n      \n            .then( res => {\n                \n              })  \n\n\n              fetch('http://localhost:8082/deletecart',\n              {\n                method: \"PUT\",\n        \n                  headers:{  \"Content-Type\":\"application/json\",  },\n        \n                    body:JSON.stringify(data),\n              } )\n        \n              .then( res => {\n                   \n                    if(res.ok)\n                      return res.json()  \n        \n                } )\n        \n              .then( res => {\n                   this.setState({cart:[]})\n                }) \n\n\n            window.location.replace(\"http://localhost:3000/congrats\");\n        }\n        else\n        alert(\"Please Confirm First\")\n    }\n    bill()\n    { \n      console.log(this.state.cart);\n      if(JSON.parse(localStorage.getItem('jwt')).user.id&&this.state.cart.length!=0)\n      {\n          console.log(\"hii\");\n      var data={\n        email:JSON.parse(localStorage.getItem('jwt')).user.id\n      }\n      fetch('http://localhost:8082/getbill',\n      {\n        method: \"PUT\",\n\n          headers:{  \"Content-Type\":\"application/json\",  },\n\n            body:JSON.stringify(data),\n      } )\n\n      .then( res => {\n        \n            if(res.ok)\n            {\n              \n             return res.json()  \n            }\n\n        } )\n\n      .then( res => {\n\n           \n            console.log(res[0].val);\n\n           this.setState({\n              bill:res[0].val,\n              r:1\n        })\n        } )\n       \n    \n      }\n      else\n      alert(\"OOps! Your Cart is Empty\");\n      \n    }\n\n    remove(d)\n    {\n      console.log(d)\n      var data={\n        id:d.cid,\n        email:JSON.parse(localStorage.getItem('jwt')).user.id,\n      }\n      console.log(data);\n      fetch('http://localhost:8082/removecart',\n      {\n        method: \"PUT\",\n\n          headers:{  \"Content-Type\":\"application/json\",  },\n\n            body:JSON.stringify(data),\n      } )\n\n      .then( res => {\n\n            if(res.ok)\n              return res.json()\n\n        } )\n\n      .then( res => {\n        this.getcart1();\n        this.setState({r:0})          //as item is removed then aagin to confirm\n        } )\n    }\n    getcart1()\n    {\n       fetch('http://localhost:8082/getcart',\n      {\n        method: \"GET\",\n\n      } )\n\n      .then( res => {\n        console.log(res)\n            if(res.ok)\n              return res.json()\n\n        } )\n\n      .then( res => {\n         if(res.length==0)\n         this.setState({cart:[]})\n         else\n         this.setState({cart:res})\n       \n      })\n      \n    }\n    getcart()\n    {\n      if(this.state.p==0)\n      {\n       fetch('http://localhost:8082/getcart',\n      {\n        method: \"GET\",\n\n      } )\n\n      .then( res => {\n        console.log(res)\n            if(res.ok)\n              return res.json()\n\n        } )\n\n      .then( res => {\n         if(res.length==0)\n         this.setState({cart:[]})\n         else\n         this.setState({cart:res})\n       \n        })\n        this.setState({p:1})\n      }\n      \n    }\n    render(){\n       return ( \n           <div>\n           {this.getcart()}\n               <div style={{backgroundImage: \"linear-gradient(90deg, rgb(0, 140, 186) 17%, rgb(63, 98, 114) 100%)\"}}>\n       <div className=\"container\">\n           <div className=\"row\"> \n               <div className=\"col\" style={{textAlign: \"center\",padding: \"40px\"}}>\n                   <h1 data-aos=\"fade-down\" style={{color: \"white\",fontSize: \"60px\"}}>Check Your Cart Here!!</h1>\n               </div>\n           </div>\n       </div>\n   </div>\n   <div className=\"pricing8 py-5\">\n   <div className=\"container\">\n   <div className=\"row mt-4\">\n     {console.log(this.state.cart)}\n   {\n      this.state.cart.map((e) => {return <div className=\"col-md-4 ml-auto pricing-box align-self-center\">\n       <div className=\"card mb-4\">\n         <div className=\"card-body p-4 text-center\">\n         <img  src={e.image} width = {320} height={350}  /> <br/>\n           <h5 className=\"font-weight-normal\">{e.cname}</h5>\n           <sup>$</sup><span className=\"text-dark display-5\">{e.price}</span>\n           <h6 className=\"font-weight-light font-14\">YEARLY</h6>\n           <p className=\"mt-4\">{e.description}</p>\n         </div>\n        \n         <button className=\"btn btn-info-gradiant p-3 btn-block border-0 text-white\" href=\"#\" onClick={() => { this.remove(e) }}>Remove This</button>\n       </div>\n     </div>\n   })}\n   \n   \n       <button className=\"btn btn-info-gradiant p-3 btn-block border-0 text-white\" href=\"#\" onClick={() => { this.bill() }}>Click To Confirm</button>    \n       <button className=\"btn btn-info-gradiant p-3 btn-block border-0 text-white\" href=\"#\" onClick={() => { this.congrats() }}>Buy for ${this.state.bill}</button>    \n   </div>\n   </div></div></div>\n       )\n\n       \n    }\n\n}\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}